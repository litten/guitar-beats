var Main=function(){function a(a){if("undefined"!=typeof Audio)h?b.play():(b=new Audio(a),b.play(),h=!0);else if("undefined"!=typeof device){"Android"==device.platform&&console.log(a);var c=new Media(a,function(){c.release()},function(a){console.log("error playing sound: "+JSON.stringify(a))});c.play()}else alert("no sound API to play: "+a)}var b,c,d=60,e=0,f=4,g=!0,h=!1,i=!0,j=!1,k=$(".point"),l=$(".btn-status"),m=$(".circle-out"),n=$(".bpm-part"),o=$(".beat-part"),p=$(".setting-bpm-part"),q=$(".bpm-wording"),r=$(".ring"),s=$(".tape"),t=function(){e=(e+360/f)%360,k.css({"-webkit-transform":"rotate("+e+"deg)"}),a("audio/1.mp3"),0==e&&(m.addClass("bg-orange"),setTimeout(function(){m.removeClass("bg-orange")},200)),g=!g},u=function(){k.bind("touchend",function(){$(this);i?(c=setInterval(t,6e4/d),l.removeClass("btn-play").addClass("btn-pause")):(clearTimeout(c),l.removeClass("btn-pause").addClass("btn-play")),i=!i}),n.bind("touchend",function(){j?(p.addClass("hide"),o.removeClass("hide")):(o.addClass("hide"),p.removeClass("hide"),clearTimeout(c),l.removeClass("btn-pause").addClass("btn-play"),i=!i),j=!j}),r.bind("touchmove",function(a){var b=a.targetTouches[0].pageY;console.log(b),d=parseInt(7*(b-150)/15+30),30>d?d=30:d>240&&(d=240),q.html(d),s.css({height:b-180})}),r.bind("touchstart",function(a){console.log(a.targetTouches[0].pageY)})};return{init:function(){u()}}}();$(Main.init());