var Main=function(){var a,b,c=60,d=0,e=4,f=4,g=!0,h=!1,i=!0,j=!1,k=$(".point"),l=$(".btn-status"),m=$(".circle-out"),n=$(".bpm-part"),o=$(".beat-part"),p=$(".setting-bpm-part"),q=$(".bpm-wording"),r=$(".ring"),s=$(".tape"),t=$(".pendulum"),u=$(".beat-and-note"),v=$(".beat-val"),w=$(".note-val"),x=function(b){if("undefined"!=typeof Audio)h?(a.src=b,a.play()):(a=new Audio(b),a.play(),h=!0);else if("undefined"!=typeof device){"Android"==device.platform&&console.log(b);var c=new Media(b,function(){c.release()},function(a){console.log("error playing sound: "+JSON.stringify(a))});c.play()}else alert("no sound API to play: "+b)},y=function(){d=0,k.css({"-webkit-transform":"rotate(0deg)"}),clearTimeout(b),l.removeClass("btn-pause").addClass("btn-play"),i=!0},z=function(){g?(d=(d+360/e)%360,k.css({"-webkit-transform":"rotate("+d+"deg)"}),0==d?(m.addClass("bg-orange"),setTimeout(function(){m.removeClass("bg-orange")},200),x("audio/1.mp3")):x("audio/2.mp3"),t.css({"-webkit-transform":"translate(0,60px)"})):t.css({"-webkit-transform":"translate(0,-60px)"}),g=!g},A=function(){k.bind("touchend",function(){$(this);i?(b=setInterval(z,3e4/c*4/f),l.removeClass("btn-play").addClass("btn-pause")):(clearTimeout(b),l.removeClass("btn-pause").addClass("btn-play")),i=!i}),n.bind("touchend",function(){j?(p.addClass("hide"),u.removeClass("hide"),o.removeClass("hide")):(o.addClass("hide"),u.addClass("hide"),p.removeClass("hide"),clearTimeout(b),l.removeClass("btn-pause").addClass("btn-play"),i=!0),j=!j}),r.bind("touchmove",function(a){var b=a.targetTouches[0].pageY;200>b?b=200:b>600&&(b=600),console.log(b),c=parseInt(Math.pow(b-200,2)/761.9+30),30>c?c=30:c>240&&(c=240),q.html(c),s.css({height:b-180})}),r.bind("touchstart",function(a){console.log(a.targetTouches[0].pageY)}),v.bind("touchend",function(){var a=parseInt($(this).html()),b=a+1;b>f&&(b=2),e=b,$(this).html(b),y()}),w.bind("touchend",function(){var a=parseInt($(this).html()),b=2*a;b>16&&(b=4),f=b,$(this).html(b),y()})};return{init:function(){A()}}}();$(Main.init());